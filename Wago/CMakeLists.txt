#=============================================================================
#
# file :        CMakeLists.txt
#
# description : File to generate a TANGO device server using cmake.
#
# project :     Wago
#
#=============================================================================
#                This file is generated by POGO
#        (Program Obviously used to Generate tango Object)
#=============================================================================
#
#

cmake_minimum_required (VERSION 2.8)
set(CMAKE_SKIP_RPATH TRUE)

# MAKE_ENV is the path to find the common environment to build the project
#
if (DEFINED ENV{MAKE_ENV})
    set(MAKE_ENV $ENV{MAKE_ENV})
else()
    set(MAKE_ENV /segfs/tango/cppserver/env)
endif()
#
# Project definitions
#
project(Wago)

#
# optional compiler flags
#
set(CXXFLAGS_USER -g)


#
# Get global information
#
include(${MAKE_ENV}/cmake_tango.opt)

#
# Files for Wago TANGO class
#
set(WAGO Wago)
set(WAGO_INCLUDE ${CMAKE_SOURCE_DIR})
set(WAGO_SRC  ${WAGO}.cpp
              ${WAGO}Class.cpp
              ${WAGO}StateMachine.cpp
              ./ModbusConn.cpp
              ./core_src/BufferHolder.cpp
              ./core_src/Configurator.cpp
              ./core_src/LogicalDevice.cpp
              ./core_src/Module.cpp
              ./core_src/ModuleDB.cpp
              ./core_src/PhysValueTransformer.cpp
              ./core_src/Services.cpp
              ./core_src/Tools.cpp
              ./core_src/WagoDevice.cpp)


#
# User additional include, link folders/libraries and source files
#
set(USER_INCL_DIR )
set(USER_LIB_DIR )
set(USER_LIBS )
set(USER_SRC_FILES )

#
# Set global info and include directories
#
set(ALL_CLASS_INCLUDE  ${WAGO_INCLUDE}  ${USER_INCL_DIR})
set(SERVER_SRC ${WAGO_SRC}  ${USER_SRC_FILES} ClassFactory.cpp main.cpp)
include_directories(${ALL_CLASS_INCLUDE}  ${USER_INCL_DIR} ${TANGO_INCLUDES})

#
# Device Server generation
#
set(SERVER_NAME Wago)
include(${MAKE_ENV}/cmake_common_target.opt)

